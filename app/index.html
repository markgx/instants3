<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>instants.nu - an Instagram web viewer</title>
  <link rel="stylesheet" href="styles/main.css"></link>
  <link href='http://fonts.googleapis.com/css?family=Donegal+One' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Finger+Paint' rel='stylesheet' type='text/css'>

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.9/jquery.transit.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.3/underscore-min.js"></script>

  <!-- build:js scripts/scripts.js -->
  <script src="scripts/vendor/instalib.js"></script>
  <script src="scripts/application.js"></script>
  <!-- endbuild -->

  <script type="text/javascript">
    window.options = {
      imageLength: 275,
      intervalMS: 2000,
      fadeDelayMS: 15000,
      fadeOutMS: 5000,
      clientID: '1e4ea3f6ea2a49899f32429d9a53566b',
      callbackURL: 'http://localhost:3501/settoken.html'
    };

    window.instagram = null;
    window.imageList = new ImageList();
    var loggedIn = false;

    if (localStorage.accessToken) {
      instagram = new Instagram(options.clientID, options.callbackURL, '', localStorage.accessToken);
      loggedIn = true;
    } else {
      instagram = new Instagram(options.clientID, options.callbackURL, '');
    }

    $(document).ready(function() {
      if (loggedIn) {
        loadPopularImages(instagram, imageList).success(function() {
          window.interval = setInterval('showImage(imageList.getNextImage())', options.intervalMS);
        });
      } else {
        $('#welcome').show();
      }

      $('.auth').on('click', function(e) {
        e.preventDefault();
        instagram.authorize();
      });
    });
  </script>
</head>
<body>
  <div id="header">instants.nu</div>
  <div id="board"></div>
  <div id="welcome" style="display: none;">
    <div class="inset">
      <p>
        Hey there, instants is a fun way to view the most recent photos in your Instagram feed in your browser. Click the button below to log in with your Instagram account.
      </p>

      <p style="text-align: center;"><a href="#" class="auth"><img src="images/signin.png" /></a></p>
    </div>
  </div>
  <div id="preload"></div>
</body>
</html>
